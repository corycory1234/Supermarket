import{r as b,e as i,f as d,g as _,i as a,j as e,k as c,l,u as f,F as p,B as u,q as v,p as k}from"./index-4594cac7.js";import{e as x,_ as N}from"./ToastMessages-807cae0b.js";import"./component-functions-91238543.js";const $={class:"navbar navbar-expand-lg bg-body-tertiary"},w={class:"container-fluid"},B=a("a",{class:"navbar-brand",href:"#"},"Navbar",-1),y=a("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},[a("span",{class:"navbar-toggler-icon"})],-1),A={class:"collapse navbar-collapse",id:"navbarNavAltMarkup"},C={class:"navbar-nav"},M=a("a",{class:"nav-link active","aria-current":"page",href:"#"},"USER首頁",-1),L=["onClick"],T={__name:"NavBar",setup(h){const n="https://vue3-course-api.hexschool.io/logout",r=()=>{s.value=!0,u.post(n).then(t=>{t.data.success&&(s.value=!1,v.push("/login"))})},s=b(!1);return(t,g)=>{const o=i("router-link"),m=i("Loading");return d(),_(p,null,[a("nav",$,[a("div",w,[B,y,a("div",A,[a("div",C,[M,e(o,{to:"/dashboard/orders",class:"nav-link"},{default:c(()=>[l("訂單")]),_:1}),e(o,{to:"/dashboard/coupons",class:"nav-link"},{default:c(()=>[l("優惠券")]),_:1}),e(o,{to:"/dashboard/news",class:"nav-link"},{default:c(()=>[l("活動新聞")]),_:1}),a("a",{class:"nav-link",href:"#",onClick:f(r,["prevent"])},"登出",8,L)])])])]),e(m,{active:s.value},null,8,["active"])],64)}}},V={class:"container-fluid mt-3 position-relative"},q={__name:"Dashboard",setup(h){const n=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");console.log(n),u.defaults.headers.common.Authorization=n;const r="https://vue3-course-api.hexschool.io/api/user/check";u.post(r).then(t=>{console.log(t),t.data.success?s.emit("push-message",{style:"success",title:"登入成功!"}):v.push("/login")});const s=x;return k("emitter",s),(t,g)=>{const o=i("router-view");return d(),_(p,null,[e(T),a("div",V,[e(N),e(o)])],64)}}};export{q as default};
