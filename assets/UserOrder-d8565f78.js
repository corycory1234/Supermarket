import{r as o,a as $,f as t,g as s,i as e,E as c,_ as P,B as T,e as D,j as _,k,F as v,y,l as x,x as I,s as S,t as C}from"./index-eb4185d7.js";import{M as F}from"./modal-f2b0cdf5.js";import{_ as L}from"./Pagination-a53cc431.js";import{F as R}from"./Footer-c65a8fbb.js";import{u as U}from"./filter-2e5f3b44.js";import"./component-functions-80165422.js";const B={class:"modal-dialog"},V={class:"modal-content"},Y=e("div",{class:"modal-header"},[e("h5",{class:"modal-title"},"詳細資訊"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),j={class:"modal-body"},A=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"關閉")],-1),G={__name:"UserOrderModal",props:{tempOrder:{type:Object,default:()=>({})}},setup(a,{expose:p}){const l=a,i=o({}),n=o({});return $(()=>{n.value=new F(i.value),l.tempOrder}),p({showModal:()=>{n.value.show()},hideModal:()=>{n.value.show()}}),(b,f)=>(t(),s("div",{class:"modal",tabindex:"-1",ref_key:"refOpenModal",ref:i},[e("div",B,[e("div",V,[Y,e("div",j,[e("p",null,"訂單編號: "+c(a.tempOrder.id),1),e("p",null,"注意事項："+c(a.tempOrder.message),1)]),A])])],512))}};const E=a=>(S("data-v-a95e652d"),a=a(),C(),a),q={class:"container-fluid page-header py-5 mb-5 wow fadeIn","data-wow-delay":"0.1s"},H={class:"container text-center py-5"},Q=E(()=>e("h1",{class:"display-3 text-white mb-4 animated slideInDown"},"MY ORDER",-1)),W={"aria-label":"breadcrumb animated slideInDown"},z={class:"breadcrumb justify-content-center mb-0"},J={class:"breadcrumb-item"},K={class:"breadcrumb-item active","aria-current":"page"},X={class:"table mt-4 table-type container order-table"},Z=E(()=>e("thead",null,[e("tr",null,[e("th",null,"TIME"),e("th",null,"PRODUCTS"),e("th",null,"QTY"),e("th",null,"TOTAL"),e("th",null,"PAYMENT"),e("th",null,"INFO")])],-1)),ee={class:"list-unstyled"},te={class:"list-unstyled"},se={key:0},ae={key:1},oe=["onClick"],le={__name:"UserOrder",setup(a){$(()=>{l()});const p=o([]),l=m=>{const w=`https://vue3-course-api.hexschool.io/api/cookiemidwang-api/orders?page=${m}`;T.get(w).then(r=>{console.log(r),p.value=r.data.orders,u.value=r.data.pagination,b.value=u.value.current_page,f.value=u.value.total_pages})},i=o(),n=o({}),O=m=>{n.value={...m},i.value.showModal()},u=o([]),b=o(1),f=o([]),M=U();return(m,w)=>{const r=D("router-link");return t(),s(v,null,[e("div",q,[e("div",H,[Q,e("nav",W,[e("ol",z,[e("li",J,[_(r,{to:{name:"home"},class:"item"},{default:k(()=>[x(" HOME")]),_:1})]),e("li",K,[_(r,{to:"/user/userOrder",class:"item"},{default:k(()=>[x("MY ORDER ")]),_:1})])])])])]),e("table",X,[Z,e("tbody",null,[(t(!0),s(v,null,y(p.value,(d,N)=>(t(),s("tr",{key:N},[e("td",null,c(I(M).date(d.create_at)),1),e("td",null,[e("ul",ee,[(t(!0),s(v,null,y(d.products,(h,g)=>(t(),s("li",{key:g},c(h.product.title),1))),128))])]),e("td",null,[e("ul",te,[(t(!0),s(v,null,y(d.products,(h,g)=>(t(),s("li",{key:g},c(h.qty),1))),128))])]),e("td",null,"NT$ "+c(I(M).currency(d.total)),1),e("td",null,[d.is_paid?(t(),s("span",se,"PAID")):(t(),s("span",ae,"NO"))]),e("td",null,[e("button",{class:"btn btn-primary",onClick:h=>O(d)},"VIEW",8,oe)])]))),128))])]),_(G,{tempOrder:n.value,ref_key:"refOrderModal",ref:i},null,8,["tempOrder"]),_(L,{pages:u.value,currentPage:b.value,pageLength:f.value,onEmitPages:l,onGoPrevious:l,onGoNext:l},null,8,["pages","currentPage","pageLength"]),_(R)],64)}}},_e=P(le,[["__scopeId","data-v-a95e652d"]]);export{_e as default};
