import{_ as O,r as _,O as S,a as E,B as v,e as f,f as n,g as c,j as d,i as t,k as b,u as N,F as g,y as $,E as a,v as U,l as w,x as F,s as M,t as B}from"./index-81df7092.js";import{C as L}from"./CheckoutStep-ee0005a8.js";import{F as P}from"./Footer-e3d601ae.js";import{u as T}from"./filter-16c721d7.js";const e=i=>(M("data-v-c3d747a8"),i=i(),B(),i),V={class:"container-fluid page-header py-5 mb-5 wow fadeIn","data-wow-delay":"0.1s"},A={class:"container text-center py-5"},D=e(()=>t("h1",{class:"display-3 text-white mb-4 animated slideInDown"},"CHECK OUT",-1)),H={"aria-label":"breadcrumb animated slideInDown"},Y={class:"breadcrumb justify-content-center mb-0"},j={class:"breadcrumb-item"},K={class:"breadcrumb-item active","aria-current":"page"},q={class:"step-container"},Q={class:"container"},R={class:"row final-wrapper"},W=["onSubmit"],z={class:"table align-middle"},G=e(()=>t("thead",null,[t("th",{width:"120"},"PIC"),t("th",{width:"120"},"NAME"),t("th",{width:"120"},"QTY"),t("th",{width:"120"},"$")],-1)),J=["src"],X=e(()=>t("tfoot",null,null,-1)),Z={class:"table"},tt=e(()=>t("th",{width:"120"},"Email",-1)),et=e(()=>t("th",null,"Name",-1)),st=e(()=>t("th",null,"Phone",-1)),ot=e(()=>t("th",null,"Address",-1)),at=e(()=>t("th",null,"Payment",-1)),lt={key:0},nt={key:1,class:"text-success"},ct={key:0,class:"text-end"},dt=e(()=>t("button",{class:"button"},"PAY NOW",-1)),it=[dt],rt={__name:"UserCheckOut",setup(i){const y=_(!1),r=_(null),k=S();E(()=>{r.value=k.params.orderId,console.log(r.value),p()});const s=_({user:{}}),h=_(null),p=()=>{const u=`https://vue3-course-api.hexschool.io/api/cookiemidwang-api/order/${r.value}`;v.get(u).then(o=>{console.log(o),o.data.success&&(s.value=o.data.order,h.value=Math.floor(o.data.order.total),console.log(h.value))})},x=()=>{const u=`https://vue3-course-api.hexschool.io/api/cookiemidwang-api/pay/${r.value}`;v.post(u).then(o=>{console.log(o),o.data.success&&p()})},C=T();return(u,o)=>{const I=f("Loading"),m=f("router-link");return n(),c(g,null,[d(I,{active:y.value},null,8,["active"]),t("div",V,[t("div",A,[D,t("nav",H,[t("ol",Y,[t("li",j,[d(m,{to:{name:"home"},class:"item"},{default:b(()=>[w("HOME")]),_:1})]),t("li",K,[d(m,{to:"/user/Cart2",class:"item"},{default:b(()=>[w("CHECK OUT")]),_:1})])])])])]),t("div",q,[d(L)]),t("div",Q,[t("div",R,[t("form",{class:"col-lg-8 col-sm-12 col-xs-12",onSubmit:N(x,["prevent"])},[t("table",z,[G,t("tbody",null,[(n(!0),c(g,null,$(s.value.products,l=>(n(),c("tr",{key:l.id},[t("td",null,[t("img",{src:l.product.imageUrl,alt:"",width:"120"},null,8,J)]),t("td",null,a(l.product.title),1),t("td",null,a(l.qty),1),t("td",null,a(F(C).currency(l.total-l.final_total)),1)]))),128))]),X]),t("table",Z,[t("tbody",null,[t("tr",null,[tt,t("td",null,a(s.value.user.email),1)]),t("tr",null,[et,t("td",null,a(s.value.user.name),1)]),t("tr",null,[st,t("td",null,a(s.value.user.tel),1)]),t("tr",null,[ot,t("td",null,a(s.value.user.address),1)]),t("tr",null,[at,t("td",null,[s.value.is_paid?(n(),c("span",nt,"YES")):(n(),c("span",lt,"NO"))])])])]),s.value.is_paid===!1?(n(),c("div",ct,it)):U("",!0)],40,W)])]),d(P)],64)}}},mt=O(rt,[["__scopeId","data-v-c3d747a8"]]);export{mt as default};
